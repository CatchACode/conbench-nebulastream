{% if current_user.is_anonymous %}
    {% extends "base.html" %}
{% else %}
    {% extends "app.html" %}
{% endif %}

{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item active">
          <a href="{{ url_for('app.run', run_id=benchmark.stats.run_id) }}">Run</a>
        </li>
        <li class="breadcrumb-item active">
          <a href="{{ url_for('app.batch', batch_id=benchmark.stats.batch_id) }}">Batch</a>
        </li>
        <li class="breadcrumb-item active">Benchmark</li>
        <li class="breadcrumb-item active" aria-current="page">{{ benchmark.id }}</li>
      </ol>
    </nav>

    <div class="row">
      <div class="col-md-6">
        <ul class="list-group">
          <li class="list-group-item active">Result</li>
          {% for k,v in benchmark.stats.items() %}
            <li class="list-group-item" style="overflow-y: auto;">
              <b>{{ k }}</b>
              <div align="right" style="display:inline-block; float: right;">
            {% if k == "run_id" %}
              <a href="{{ url_for('app.run', run_id=v) }}">{{ v }}</a>
            {% elif k == "batch_id" %}
              <a href="{{ url_for('app.batch', batch_id=v) }}">{{ v }}</a>
            {% else %}
              {{ v }}
            {% endif %}
              </div>
            </li>
          {% endfor %}
          <li class="list-group-item active">Tags</li>
          {% for k,v in benchmark.tags.items() %}
            <li class="list-group-item" style="overflow-y: auto;">
              <b>{{ k }}</b>
              <div align="right" style="display:inline-block; float: right;">{{ v }}</div>
            </li>
          {% endfor %}
          <li class="list-group-item active">Machine</li>
          {% for k,v in benchmark.machine.items() %}
            <li class="list-group-item" style="overflow-y: auto;">
              <b>{{ k }}</b>
              <div align="right" style="display:inline-block; float: right;">{{ v }}</div>
            </li>
          {% endfor %}
          <li class="list-group-item active" >Context</li>
          {% for k,v in benchmark.context.items() %}
            <li class="list-group-item" style="overflow-y: auto;">
              <b>{{ k }}</b>
              <div align="right" style="display:inline-block; float: right;">{{ v }}</div>
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>

    <div class="row">
        <div class="col-md-8">
            {{ wtf.quick_form(form, id="benchmark-form", button_map={'delete': 'primary'}) }}
        </div>
    </div>


{% endblock %}

{% block scripts %}
{{super()}}
<script type="text/javascript">
$(document).ready(function($) {
    $("#benchmark-form").find("#delete").attr("type", "button");
    $("#benchmark-form").find("#delete").attr("data-toggle", "modal");
    $("#benchmark-form").find("#delete").attr("data-target", "#confirm-delete");
    $("#benchmark-form").find("#delete").attr("data-form-id", "#benchmark-form");
    $("#benchmark-form").find("#delete").attr("data-href", "{{ url_for('app.benchmark', benchmark_id=benchmark.id) }}");
    $("#benchmark-form").find("#delete").attr("data-message", "<ul><li>Delete benchmark: <strong>{{ benchmark.id }}</strong></li></ul>");
});
</script>
{% endblock %}
